# JoinMarket configuration for reference implementation testing
# This file is used by jam-standalone to connect to our directory server

[DAEMON]
no_daemon = 1
daemon_port = 27183
daemon_host = localhost
use_ssl = false

[BLOCKCHAIN]
# Use regtest
blockchain_source = regtest
network = testnet
rpc_host = jm-bitcoin-jam
rpc_port = 18445
rpc_user = test
rpc_password = test
rpc_wallet_file = jm_wallet

[MESSAGING:onion]
# Onion-based messaging to connect to our directory server
type = onion
socks5_host = localhost
socks5_port = 9050
tor_control_host = localhost
tor_control_port = 9051
onion_serving_host = 127.0.0.1
onion_serving_port = 8080
hidden_service_dir =
# Pre-generated deterministic onion address for testing
# Keys stored in tests/e2e/reference/tor/data/directory/
directory_nodes = 5x6tavdaf6mdvckxw3jmobxmzxqnnsj3uldro5tvdlvo5hebhureysad.onion:5222
# Regtest mode settings for testing multiple bots
regtest_count = 0,0

[LOGGING]
console_log_level = DEBUG
color = true

[TIMEOUT]
maker_timeout_sec = 60
unconfirm_timeout_sec = 180
confirm_timeout_hours = 6

[POLICY]
segwit = true
native = true
merge_algorithm = default
gaplimit = 6
wallet_caching_disabled = false
tx_fees = 3
tx_fees_factor = 0.2
absurd_fee_per_kb = 350000
max_sweep_fee_change = 0.8
# Generous limits for testing
max_cj_fee_abs = 100000
max_cj_fee_rel = 0.01
tx_broadcast = self
# Lower minimum makers for testing (we run 2)
minimum_makers = 2
max_sats_freeze_reuse = -1
interest_rate = 0.015
bondless_makers_allowance = 0.125
bond_value_exponent = 1.3
taker_utxo_retries = 3
# Lower for regtest testing
taker_utxo_age = 1
taker_utxo_amtpercent = 20
accept_commitment_broadcasts = 1
commit_file_location = cmtdata/commitments.json
commitment_list_location = cmtdata/commitmentlist
# Allow unconfirmed for regtest
listunspent_args = [0]

[PAYJOIN]
payjoin_version = 1
disable_output_substitution = 0
max_additional_fee_contribution = default
min_fee_rate = 1.1
onion_socks5_host = localhost
onion_socks5_port = 9050
tor_control_host = localhost
tor_control_port = 9051
onion_serving_host = 127.0.0.1
onion_serving_port = 8082
hidden_service_ssl = false

[YIELDGENERATOR]
ordertype = reloffer
cjfee_a = 500
cjfee_r = 0.00002
cjfee_factor = 0.1
txfee_contribution = 0
txfee_contribution_factor = 0.3
minsize = 100000
size_factor = 0.1

[SNICKER]
enabled = false
lowest_net_gain = 0
servers =
polling_interval_minutes = 60
